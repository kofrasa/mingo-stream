"use strict";function Stream(t,r){return this instanceof Stream?(r=r||{},Object.assign(r,{objectMode:!0}),Transform.call(this,r),void(this.__query=t)):new Stream(t,r)}var mingo=require("mingo"),Transform=require("stream").Transform,util=require("util"),_=mingo._internal(),VERSION="0.0.2";util.inherits(Stream,Transform),Stream.VERSION=VERSION,Stream.prototype._transform=function(t,r,e){if(_.isObject(t)&&this.__query.test(t))if(_.isEmpty(this.__query.__projection))this.push(t);else{var i=new mingo.Cursor([t],this.__query);i.hasNext()&&this.push(i.next())}e()},mingo.Query.prototype.stream=function(t){return new mingo.Stream(this,t)},module.exports=mingo.Stream=Stream;
//# sourceMappingURL=dist/mingo-stream.min.map