"use strict";function Stream(t,r){return this instanceof Stream?(r=r||{},Object.assign(r,{objectMode:!0}),Transform.call(this,r),void(this._query=t)):new Stream(t,r)}var Mingo=require("mingo"),Transform=require("stream").Transform,util=require("util"),_=Mingo._internal(),VERSION="0.0.1";util.inherits(Stream,Transform),Stream.VERSION=VERSION,Stream.prototype._transform=function(t,r,e){if(_.isObject(t)&&this._query.test(t))if(_.isEmpty(this._query._projection))this.push(t);else{var i=new Mingo.Cursor([t],this._query);i.hasNext()&&this.push(i.next())}e()},Mingo.Query.prototype.stream=function(t){return new Mingo.Stream(this,t)},module.exports=Mingo.Stream=Stream;
//# sourceMappingURL=dist/mingo-stream.min.map